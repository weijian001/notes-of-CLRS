# 13.1 Properties of red-black trees

标签： 平衡 红黑树

---
###笔记
对二叉搜索树树，如果二叉搜索树的高度较低，上章介绍的基本操作都可以在笔记快的时间内完成，时间复杂度是O(h)。如果树的高度比较高，这些集合操作不一定比链表快。**红黑树**，是许多平衡搜索树的一种，**可以保证最坏情况下动态集合的操作的时间复杂度是O(lgn)**。

红黑树是一棵**二叉搜索树**，每个结点增加一个存储位来表示**颜色（Red或Black）**，通过对任何一条从根到叶子的简单路径上各个结点的颜色进行约束，**红黑树确保没有一条路径会比其他路径长处2倍**，因而是近似平衡的。

树种每个结点包含5个属性：color,key,left,right,p。若没有子或父，置相应结点为NIL，**我们可以把这些NIL视为指向二叉搜索树的叶结点的指针，而把带关键字的结点视为内部结点**。

红黑树性质：

![红黑树的性质][1]

> 注意这里的叶结点指的是NIL结点。

**为了方便处理红黑树代码中的边界情况，使用一个**哨兵**来代表NIL。**对于一棵红黑树T，哨兵T.nil是一个与树中普通结点有相同属性的对象。color属性为Black，其他四个属性可以设置任意值。使用后红黑树结构如下所示：

![使用哨兵后的红黑树][2]

> 我们把注意力放在内部结构上，因为他们存储了关键字的值。在本章后面，画的红黑树都忽略了叶结点。

**黑高**：从某个结点出发（不含该结点）到达一个叶结点的任意一条简单路径的黑色结点个数成为该结点的黑高，记为hh(x)。根据性质5可知，黑高的概念是明确定义的。定义红黑树的黑高为叶结点的黑高。

引理13.1：一棵有n个内部结点的红黑树的高度至少为2lg(n+1)。  
证明的话首先证明任一结点x为根的子树中，至少包含2<sup>hh(x)</sup>-1个内部结点，然后根据性质4得。（P175）  
由此可知，动态集合操作Search，Minimum，Maximum，Successor，Predecessor可在红黑树上在O(lgn)时间内执行。插入和删除在3,4节介绍。

---
###练习（第三题订正了）
13.1-1：暂时不会，学完插入看看。  
13.1-3：介绍一个概念，松弛红黑树，满足红黑树5条性质中的1345。考虑一个根结点是红色的松弛红黑树，如果把根结点改成黑色，则仍是一个符合定义的红黑树。（可以通过看性质，都没有变，且黑高也没有变，黑高不包括出发结点）  


---


  [1]: https://github.com/wj1066/pictures/blob/master/CLRS/13.1-1.jpg
  [2]: https://github.com/wj1066/pictures/blob/master/CLRS/13.1-2.jpg